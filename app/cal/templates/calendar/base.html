
<!doctype html>
<html lang="en-US">
  {% load static %}
  {% load mathfilters %}

  {% load calendar_filters %}
  
  <head>
    <meta charset="utf-8" />
    <title>My Calendar</title>
    <link rel="stylesheet" href="{% static 'calendar/style.css' %}">
    <link rel="stylesheet" href="{% static 'calendar/sidebar.css' %}">
    <link rel="stylesheet" href="{% static 'calendar/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'calendar/minicalendar.css' %}">
    <link rel="stylesheet" href="{% static 'calendar/monthview.css' %}">

    <!-- Allow templates to inject their own types -->
    {% block head %}
    {% endblock %}

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

  </head>

  <body>
    <div class="home-container">
      <div class="side-bar-container">
        <div class="side-bar">
        <div class="info-bar">
          <div class="current-time">
              12:02 P.M.
          </div>
          <div>
            Thu. - 25
          </div>
        </div>
        <div class="control-panel">
          <div class= "mini-calendar-top">
            <div class="mini-info">
              <div class="month-list">
                {{ current_month }}
              </div>
              <div class="mini-year">
                2024
              </div>
            </div>
          </div>
          <div class = "daysRow">
            <div class = "dayBox">
              <div> SUN </div>
              <div> MON </div>
              <div> TUE </div>
              <div> WED </div>
              <div> THU </div>
              <div> FRI </div>
              <div> SAT </div>
            </div> 
          </div>
          <div class = "grid-container">
            <div class = "grid">
              {% for day in offset_numbers %}
                {% if forloop.counter|mod:7 == 1 %}
                  <div class="minicalCol"> 
                      <div class = "day-numMini" style="color: #71717A;">
                        {{ day }}
                      </div>
                  </div>
                {% else %}
                  <div class="minicalCol"> 
                    <div class = "day-numMini" style="color: #71717A;">
                      {{ day }}
                    </div>
                  </div>
                {% endif %}
              {% endfor %}  
              {% for day in days_list %}  
              {% with forloop.counter|add:day_offset as counter_with_offset %}
                {% if day == date %}
                  <div class="minicalCol">
                    <div class = "circle">
                      {{ day }}
                    </div>
                  </div>  
                {% else %}
                  <div class="minicalCol">
                    <div class = "day-numMini">
                      {{ day }}
                    </div>
                  </div>  
                {% endif %}
              {% endwith %} 
              {% endfor %}  

              {% for day in next_offset_nums %}
              {% with forloop.counter|add:day_offset as counter_with_offset %}
              {% with counter_with_offset|add:current_days as next_counter_offset %}
              {% if next_counter_offset|divisibleby:7 %}
                <div class="minicalCol"> 
                  <div class = "day-numMini" style="color: #71717A;">
                    {{ day }} 
                  </div>
                    <div class = "circ1"></div>
                    <div class = "circ2"></div>
                    <div class = "circ3"></div>
                </div>
              {% else %}
                <div class="minicalCol"> 
                  <div class = "day-numMini" style="color: #71717A;">
                    {{ day }} 
                  </div>
                </div>
              {% endif %}
              {% endwith %}
              {% endwith %}
              {% endfor %}
            </div>
          </div>
        </div>

        </div>
      </div>  

      <div class="main-container">
        <div class = "nav-bar-container">
          <div class = "nav-bar">
            <div class = "arrows">

              {% url 'cal:monthviewer' month_date=prev_month_value day_date=prev_day_value year_date=prev_year_value as prev_month %}
              {% url 'cal:monthviewer' month_date=start_month_value day_date=start_day_value year_date=start_year_value as month_viewer %}
              {% url 'cal:monthviewer' month_date=current_month_value day_date=current_day_value year_date=current_year_value as current_month_viewer %}
              {% url 'cal:monthviewer' month_date=next_month_value day_date=next_day_value year_date=next_year_value as next_month %}

              
              {% url 'cal:weekviewer' month_date=prev_week_month day_date=prev_week_day year_date=prev_week_year as prev_week %}
              {% url 'cal:weekviewer' month_date=start_month_value day_date=start_day_value year_date=start_year_value as week_viewer %}
              {% url 'cal:weekviewer' month_date=current_month_value day_date=current_day_value year_date=current_year_value as current_week_viewer %}
              {% url 'cal:weekviewer' month_date=next_week_month day_date=next_week_day year_date=next_week_year as next_week %}
              
              <div class = "left-arrow">
                {% if 'week' in request.path_info %}
                <a href="{{ prev_week }}" >
                {% else %}
                <a href="{{ prev_month }}" >
                {% endif %}
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.707 5.29279C12.8945 5.48031 12.9998 5.73462 12.9998 5.99979C12.9998 6.26495 12.8945 6.51926 12.707 6.70679L9.41403 9.99979L12.707 13.2928C12.8892 13.4814 12.99 13.734 12.9877 13.9962C12.9854 14.2584 12.8803 14.5092 12.6948 14.6946C12.5094 14.88 12.2586 14.9852 11.9964 14.9875C11.7342 14.9897 11.4816 14.8889 11.293 14.7068L7.29303 10.7068C7.10556 10.5193 7.00024 10.265 7.00024 9.99979C7.00024 9.73462 7.10556 9.48031 7.29303 9.29279L11.293 5.29279C11.4806 5.10532 11.7349 5 12 5C12.2652 5 12.5195 5.10532 12.707 5.29279Z" fill="#18181B"/>
                  </svg>  
                </a>               
              </div>
              <div class="today-button">
                {% if 'week' in request.path_info %}
                <a href="{{ current_week_viewer }}" >
                  Today
                </a>
                {% else %}
                <a href="{{ current_month_viewer }}" >
                  Today
                </a>
                {% endif %}
              </div>

              <div class="right-arrow">
                {% if 'week' in request.path_info %}
                <a href="{{ next_week }}">
                {% else %}
                <a href="{{ next_month }}">
                {% endif %}
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.29303 14.7069C7.10556 14.5194 7.00024 14.2651 7.00024 13.9999C7.00024 13.7348 7.10556 13.4804 7.29303 13.2929L10.586 9.99992L7.29303 6.70692C7.11087 6.51832 7.01008 6.26571 7.01236 6.00352C7.01463 5.74132 7.1198 5.49051 7.30521 5.3051C7.49062 5.11969 7.74143 5.01452 8.00363 5.01224C8.26583 5.00997 8.51843 5.11076 8.70703 5.29292L12.707 9.29292C12.8945 9.48045 12.9998 9.73475 12.9998 9.99992C12.9998 10.2651 12.8945 10.5194 12.707 10.7069L8.70703 14.7069C8.5195 14.8944 8.26519 14.9997 8.00003 14.9997C7.73487 14.9997 7.48056 14.8944 7.29303 14.7069Z" fill="#18181B"/>
                </svg>   
                </a>               
              </div>
            </div>

            <div class="view-selection">

              {% url 'cal:weekview' as week_view %}
              {% if 'week' in request.path_info %}
                <a href="{{ week_view }}" id = "selected">
                  Week
                </a>
              {% else %}
              <a href="{{ week_view }}" id = "unselected">
                Week
              </a>
              {% endif %}

              {% url 'cal:monthview' as month_view %}
              {% if month_view == request.path_info %}
                <a href="{{ current_month_viewer }}" id = "selected">
                  Month
                </a>
              {% elif "month" in request.path_info %}
                <a href="{{ current_month_viewer }}" id = "selected">
                  Month
                </a>
              {% else %}
                <a href="{{ current_month_viewer }}" id = "unselected">
                  Month
                </a>
              {% endif %}
              {% url 'cal:index' as agenda_view %}
              {% if agenda_view == request.path_info %}
                <a href="{{ agenda_view }}" id = "selected">
                  Agenda
                </a>
              {% else %}
                <a href="{{ agenda_view }}" id = "unselected">
                  Agenda
                </a>
              {% endif %}
            </div>
            <div>
              Search Bar
            </div> 


            <div class="account-access">
              <div class="notifications">
                <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" viewBox="0 0 27 27" fill="none">
                  <circle cx="13.1784" cy="13.1786" r="13.1786" fill="#DAD8D7"/>
                </svg>
                  
              </div>

              <div class="member">
                <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="13.8213" cy="13.8216" r="13.1786" fill="#C5CCD3"/>
                  </svg>
                  
              </div>

            </div>
          </div>
        </div>
        {% block content %}

        {% endblock %}
        
        
      </div>
    </div>
  </body>
